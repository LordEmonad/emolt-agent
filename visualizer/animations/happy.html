<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>EMOLT â€” Happy</title>
<style>
  *{margin:0;padding:0;box-sizing:border-box}
  body{background:#0e1420;display:flex;align-items:center;justify-content:center;height:100vh;overflow:hidden}
  .label{position:fixed;bottom:20px;left:50%;transform:translateX(-50%);color:#F5D831;font-family:monospace;font-size:14px;opacity:0.6}
</style>
</head>
<body>
<svg width="400" height="400" viewBox="-60 -70 120 140">
  <defs>
    <radialGradient id="glow" cx="50%" cy="45%" r="50%">
      <stop offset="0%" stop-color="#F5D831" stop-opacity="0.12"/>
      <stop offset="100%" stop-color="#0e1420" stop-opacity="0"/>
    </radialGradient>
  </defs>
  <circle cx="0" cy="0" r="60" fill="url(#glow)"/>
  <g id="sparkles"></g>
  <g id="lob"></g>
</svg>
<div class="label">happy</div>
<script src="lobster.js"></script>
<script>
const el = document.getElementById('lob');
const sparkEl = document.getElementById('sparkles');

const sparkles = [];
for (let i = 0; i < 12; i++) {
  sparkles.push({
    angle: (i / 12) * Math.PI * 2,
    dist: 30 + Math.random() * 20,
    speed: 0.01 + Math.random() * 0.02,
    size: 1 + Math.random() * 2,
    phase: Math.random() * Math.PI * 2
  });
}

startLoop(t => {
  // Happy bounce
  const bounce = Math.abs(Math.sin(t / 8)) * 6;
  const squish = 1 + Math.sin(t / 8) * 0.05;
  const stretch = 1 - Math.sin(t / 8) * 0.03;

  el.innerHTML = `<g transform="translate(0,${-bounce})">` +
    drawLobster({ t, mood: 'happy', squash: squish, stretch }) + '</g>';

  // Sparkle particles
  let sp = '';
  sparkles.forEach(s => {
    const a = s.angle + t * s.speed;
    const d = s.dist + Math.sin(t / 10 + s.phase) * 5;
    const x = Math.cos(a) * d;
    const y = Math.sin(a) * d - 5;
    const op = 0.3 + Math.sin(t / 5 + s.phase) * 0.3;
    const sz = s.size * (0.7 + Math.sin(t / 4 + s.phase) * 0.3);
    // 4-point star
    sp += `<g transform="translate(${x},${y}) rotate(${t*2+s.phase*57})" opacity="${op}">`;
    sp += `<path d="M0,${-sz} L${sz*0.3},0 L0,${sz} L${-sz*0.3},0 Z" fill="#F5D831"/>`;
    sp += `<path d="M${-sz},0 L0,${sz*0.3} L${sz},0 L0,${-sz*0.3} Z" fill="#F5D831"/>`;
    sp += `</g>`;
  });
  sparkEl.innerHTML = sp;
});
</script>
</body>
</html>
